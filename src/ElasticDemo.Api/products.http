@baseUrl = https://localhost:7232

### Initialize Elasticsearch index
# Run this first to create the products index with proper mappings
POST {{baseUrl}}/api/products/init

### Seed sample products
# Populates the index with sample data for testing
POST {{baseUrl}}/api/products/seed

### Search all products
POST {{baseUrl}}/api/products/search
Content-Type: application/json

{}

### Create iPhone 17 Pro with variants
# Base price: $999, Storage: 128GB/256GB/512GB/1TB, Colors: Titanium variants
POST {{baseUrl}}/api/products
Content-Type: application/json

{
    "name": "iPhone 17 Pro",
    "description": "Pro-level iPhone with A17 Pro chip, titanium design, and advanced camera system",
    "category": "Electronics",
    "price": 999.00,
    "tags": ["smartphone", "iphone", "apple", "5g", "pro"],
    "inStock": true,
    "variants": [
        {
            "sku": "IP17PRO-BLK-128",
            "size": "128GB",
            "color": "Black Titanium",
            "priceAdjustment": 0,
            "stock": 50
        },
        {
            "sku": "IP17PRO-BLK-256",
            "size": "256GB",
            "color": "Black Titanium",
            "priceAdjustment": 100,
            "stock": 45
        },
        {
            "sku": "IP17PRO-BLK-512",
            "size": "512GB",
            "color": "Black Titanium",
            "priceAdjustment": 300,
            "stock": 30
        },
        {
            "sku": "IP17PRO-BLK-1TB",
            "size": "1TB",
            "color": "Black Titanium",
            "priceAdjustment": 500,
            "stock": 15
        },
        {
            "sku": "IP17PRO-WHT-256",
            "size": "256GB",
            "color": "White Titanium",
            "priceAdjustment": 100,
            "stock": 40
        },
        {
            "sku": "IP17PRO-NAT-256",
            "size": "256GB",
            "color": "Natural Titanium",
            "priceAdjustment": 100,
            "stock": 35
        },
        {
            "sku": "IP17PRO-DST-256",
            "size": "256GB",
            "color": "Desert Titanium",
            "priceAdjustment": 100,
            "stock": 25
        }
    ]
}

### Create iPhone 17 (base model) with variants
# Base price: $799, Storage: 128GB/256GB/512GB, Colors: Black/Blue/Pink/Yellow/Green
POST {{baseUrl}}/api/products
Content-Type: application/json

{
    "name": "iPhone 17",
    "description": "The latest iPhone with A17 chip, all-day battery, and stunning display",
    "category": "Electronics",
    "price": 799.00,
    "tags": ["smartphone", "iphone", "apple", "5g"],
    "inStock": true,
    "variants": [
        {
            "sku": "IP17-BLK-128",
            "size": "128GB",
            "color": "Black",
            "priceAdjustment": 0,
            "stock": 100
        },
        {
            "sku": "IP17-BLK-256",
            "size": "256GB",
            "color": "Black",
            "priceAdjustment": 100,
            "stock": 80
        },
        {
            "sku": "IP17-BLK-512",
            "size": "512GB",
            "color": "Black",
            "priceAdjustment": 200,
            "stock": 40
        },
        {
            "sku": "IP17-BLU-128",
            "size": "128GB",
            "color": "Blue",
            "priceAdjustment": 0,
            "stock": 75
        },
        {
            "sku": "IP17-PNK-128",
            "size": "128GB",
            "color": "Pink",
            "priceAdjustment": 0,
            "stock": 60
        },
        {
            "sku": "IP17-YLW-128",
            "size": "128GB",
            "color": "Yellow",
            "priceAdjustment": 0,
            "stock": 55
        },
        {
            "sku": "IP17-GRN-128",
            "size": "128GB",
            "color": "Green",
            "priceAdjustment": 0,
            "stock": 50
        }
    ]
}

### Search for "iPhone" - finds all iPhone products
POST {{baseUrl}}/api/products/search
Content-Type: application/json

{
    "query": "iPhone"
}

### Search for "iPhone 17 Pro" - finds the Pro model
POST {{baseUrl}}/api/products/search
Content-Type: application/json

{
    "query": "iPhone 17 Pro"
}

### Search for "black titanium" - finds products with black titanium variants
POST {{baseUrl}}/api/products/search
Content-Type: application/json

{
    "query": "black titanium"
}

### Search for "iPhone black" - cross-field matching demo
# Matches "iPhone" in product name and "black" in variant color
POST {{baseUrl}}/api/products/search
Content-Type: application/json

{
    "query": "iPhone black"
}

### Search by category - finds iPhone products in Electronics
POST {{baseUrl}}/api/products/search
Content-Type: application/json

{
    "category": "Electronics"
}

### Search by price range - finds iPhone 17 base (~$799-999)
POST {{baseUrl}}/api/products/search
Content-Type: application/json

{
    "minPrice": 800,
    "maxPrice": 1000
}

### Search by price range - finds iPhone 17 Pro ($999+)
POST {{baseUrl}}/api/products/search
Content-Type: application/json

{
    "minPrice": 1000
}

### First result only
POST {{baseUrl}}/api/products/search
Content-Type: application/json

{
    "from": 0,
    "size": 1
}

### Second result only
POST {{baseUrl}}/api/products/search
Content-Type: application/json

{
    "from": 1,
    "size": 1
}

### Newest first (descending) - iPhone created last
POST {{baseUrl}}/api/products/search
Content-Type: application/json

{
    "sort": "desc"
}

### Oldest first (ascending)
POST {{baseUrl}}/api/products/search
Content-Type: application/json

{
    "sort": "asc"
}

### Search iPhone with category + price + sort + pagination
POST {{baseUrl}}/api/products/search
Content-Type: application/json

{
    "query": "iPhone",
    "category": "Electronics",
    "minPrice": 800,
    "maxPrice": 1200,
    "sort": "desc",
    "from": 0,
    "size": 10
}

### Semantic Search - natural language queries
# Uses vector embeddings to find semantically similar products

### Semantic search with similarity threshold
# similarity: filters out weak matches (0.5 = moderate, 0.7 = strict)
POST {{baseUrl}}/api/products/semantic-search
Content-Type: application/json

{
    "query": "red iphone 18 with large storage",
    "similarity": 0.80
}

### Get product by ID (replace with actual ID)
@productId = your-product-id-here
GET {{baseUrl}}/api/products/{{productId}}

### Delete product by ID (replace with actual ID)
DELETE {{baseUrl}}/api/products/{{productId}}
